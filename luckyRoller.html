<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lucky Roller</title>
<style>
    body { background-color: black; color: white; }
    .artifacts-button { position: fixed; top: 20px; right: 20px; z-index: 1000; }
    .cool-button {
        display: inline-block; padding: 15px 30px; border: none; border-radius: 8px;
        cursor: pointer; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-size: 18px; font-weight: bold; text-align: center; text-decoration: none;
        color: #ffffff; background: linear-gradient(45deg, #6a11cb 0%, #2575fc 100%);
        box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: all 0.3s ease;
    }
    .cool-button:hover { background: linear-gradient(45deg, #5c0cad 0%, #1e64d8 100%); transform: translateY(-2px); }
    .cool-button:active { transform: translateY(1px); box-shadow: 0 1px 5px rgba(0,0,0,0.2); background: linear-gradient(45deg, #4a098c 0%, #174ea6 100%); }
    .centered { text-align: center; }
</style>
</head>
<body>
<h1 style="text-align: center;">Roll for lucky stuff:</h1>

<a href="artifacts.html" class="cool-button artifacts-button">Artifacts</a>

<h2 id="result" style="position: absolute; top: 50px; left: 50%; transform: translateX(-50%); min-height: 60px;"></h2>
<br><br><br>
<div class="centered">
    <button class="cool-button" onclick="roll()">Roll</button>
</div>

<script>
let effectInterval = null;
let canRoll = true;

// Artifacts by rarity
const commonArtifacts = [
    { name: "Hotdog", key: "hotdogShards" },
    { name: "Cookie", key: "cookieShards" },
    { name: "Burger", key: "burgerShards" } // New common
];

const uncommonArtifacts = [
    { name: "Curry", key: "curryShards" } // New uncommon
];

function startGodlikeEffect(text) {
    const blues = ["#e0f7ff","#b3e5ff","#80d4ff","#4fc3ff","#29b6f6","#1e88e5","#1565c0"];
    let index = 0;
    effectInterval = setInterval(() => { text.style.color = blues[index]; index = (index + 1) % blues.length; }, 150);
}

function startAlchemyEffect(text) {
    const greens = ["#c8facc","#9be7a1","#6fdc7a","#43c653","#2e9e3f","#1f7a30","#145522"];
    let index = 0;
    effectInterval = setInterval(() => { text.style.color = greens[index]; index = (index + 1) % greens.length; }, 80);
}

function lockRolls(seconds) {
    canRoll = false;
    const button = document.querySelector("button");
    button.disabled = true;
    button.style.opacity = "0.6";
    button.style.cursor = "not-allowed";
    setTimeout(() => {
        canRoll = true;
        button.disabled = false;
        button.style.opacity = "1";
        button.style.cursor = "pointer";
    }, seconds*1000);
}

function roll() {
    if (!canRoll) return;
    let roll = Math.random();
    let text = document.getElementById("result");
    if (effectInterval) { clearInterval(effectInterval); effectInterval = null; }

    if (roll > 0.5) {
        // Random common artifact
        const artifact = commonArtifacts[Math.floor(Math.random() * commonArtifacts.length)];
        text.innerHTML = `${artifact.name} (Common) 50%`;
        text.style.color = "gray"; text.style.fontSize = "24px";
        localStorage.setItem(artifact.key, (parseInt(localStorage.getItem(artifact.key)) || 0) + 1);

    } else if (roll > 0.25) {
        // Random uncommon artifact if any
        const artifact = uncommonArtifacts[Math.floor(Math.random() * uncommonArtifacts.length)];
        text.innerHTML = artifact ? `${artifact.name} (Uncommon) 25%` : "Uncommon 25%";
        text.style.color = "green"; text.style.fontSize = "28px";
        if (artifact) localStorage.setItem(artifact.key, (parseInt(localStorage.getItem(artifact.key)) || 0) + 1);

    } else if (roll > 0.1) { text.innerHTML = "Rare 15%"; text.style.color = "blue"; text.style.fontSize = "32px"; }
    else if (roll > 0.05) { text.innerHTML = "Epic 5%"; text.style.color = "purple"; text.style.fontSize = "36px"; }
    else if (roll > 0.025) { text.innerHTML = "Legendary 2.5%"; text.style.color = "goldenrod"; text.style.fontSize = "40px"; }
    else if (roll > 0.01) { text.innerHTML = "Mythic 1.5%"; text.style.color = "red"; text.style.fontSize = "44px"; }
    else if (roll > 0.001) { text.innerHTML = "Unreal 0.9%"; text.style.color = "white"; text.style.fontSize = "48px"; lockRolls(3); }
    else if (roll > 0.0001) { text.innerHTML = "Godlike 0.1%"; text.style.fontSize = "52px"; startGodlikeEffect(text); lockRolls(3); }
    else { text.innerHTML = "Alchemy 0.01%"; text.style.fontSize = "60px"; startAlchemyEffect(text); lockRolls(3); }
}
</script>
</body>
</html>
